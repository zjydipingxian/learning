<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>查找替换</title>
		<meta name="Keywords" content="关键词,关键词">
		<meta name="description" content="">
		<link rel="stylesheet" type="text/css" href="css/shangpin.css"/>
	</head>
	<body>
		<div id="wrap">
			<div class="box">
				<div class="conter">
					<ul class="mer-list">
						<li>
							<img src="images/xh_img1.jpg"/>
							<p>粉丝浪漫系列玫瑰</p>
							<div>
								¥<span>500</span>
							</div>
						</li>
						<li>
							<img src="images/xh_img2.jpg"/>
							<p>深红色经典玫瑰</p>
							<div>
								¥<span>100</span>
							</div>
						</li>
						<li>
							<img src="images/xh_img3.jpg"/>
							<p>清淡优雅百年好合</p>
							<div>
								¥<span>300</span>
							</div>
						</li>
						<li>
							<img src="images/xh_img4.jpg"/>
							<p>紫色冷艳系列</p>
							<div>
								¥<span>700</span>
							</div>
						</li>
						<li>
							<img src="images/xh_img5.jpg"/>
							<p>经典红色我最爱</p>
							<div>
								¥<span>130</span>
							</div>
						</li>
						<li>
							<img src="images/xh_img6.jpg"/>
							<p>甜美七分袖荷叶边条纹设</p>
							<div>
								¥<span>215</span>
							</div>
						</li>
						<li>
							<img src="images/xh_img7.jpg"/>
							<p>经典粉色我最爱</p>
							<div>
								¥<span>97</span>
							</div>
						</li>
						<li>
							<img src="images/xh_img8.jpg"/>
							<p>经典橘色我最爱</p>
							<div>
								¥<span>99.5</span>
							</div>
						</li>
					</ul>
					<!--价格-->
					<div class="jiage">
						<p>随机</p>
						<p>从低到高</p>
						<p>从高到低</p>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script type="text/javascript">
		var   oul=document.getElementsByTagName('ul')[0];
		var   oli=document.getElementsByTagName('li');  //获取li
		 var  apsn=document.querySelectorAll('ul li div span'); //找到对应的商品金钱
		 var  ap=document.querySelectorAll('.jiage p'); //找到随机,从高到低 ,从低到
		 console.log(ap);
		 var  num=0;
		 var  arr=[];
		 //价格要跟对应的商品符合 所以只有传li的数据内容进去. arr[['li','金币'],[],[],] 
		for(var i=0;i<apsn.length;i++){
			arr[i]=[];
			arr[i][0]=oli[i].innerHTML;  //获取整第一个li的内容
			arr[i][1]=oli[i].getElementsByTagName('span')[0].innerHTML;//要获取第一个li里面的金币
		//	console.log(arr[i][1]);
		}
		
		 ap[num].className="";
		// 随机,从高到低 ,从低到高点击事件
		for(var i=0;i<ap.length;i++){
			ap[i].index=i
			ap[i].onclick=function(){
				ap[num].className='';
				this.className="on";
				num=this.index;
				//判断找什么. 0-从高到低 1-从低到高  3-随机
				auto(this.index);
			}
		}
		
		//排序
		function auto(a){
			arr.sort(function(x,y){
				switch(a){
					case 0: return randomSort();
						break;
					case 1: return x[1]-y[1];
						break;
						
					default : return y[1]-x[1];
				}
			})
			oul.innerHTML='';
			for(var i=0;i<apsn.length;i++){
				oul.innerHTML+='<li>'+arr[i][0]+'</li>';
			}
		}
	//随机
	//randomSort();
	function randomSort(){
		var len=arr.length;  //原生数组的长度
		var data=[];  //新建一个空的数字存.
		for(var i=0;i<len;i++){
			 var index =Math.floor(Math.random() * arr.length); //让原来数组随机
			 data[i]=arr[index]; //原数组的东西赋值给新的数组
			 arr.splice(index,1);  
		}
		arr=data;
		console.log(arr);
	}
	</script>
</html>
