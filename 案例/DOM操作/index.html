<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Dom操作</title>
	<link rel="stylesheet" href="css/Dom.css">
	<style type="text/css">
 *{ margin: 0; padding: 0; list-style: none; text-decoration: none; } body { background: linear-gradient(skyblue,pink); } #wrap{ width: 910px; height: 500px; margin: 10px auto; } .r_Text{ float: left; width: 450px; height: 500px; background: #fff; } .nav{ margin: 30px; } .nav h2{ display: inline-block; font-size: 20px; font-weight: normal; color: red; } .nav span{ cursor: pointer; } .L_Text{ float: right; width: 450px; height: 500px; background: rgba(0,0,0,0.3); margin-left: 10px; } .show p{ display: inline-block; padding: 4px; margin: 10px; height: 20px; text-align: center; line-height: 20px; color: #999; border: 1px solid; } .show p span{ cursor: pointer; margin-left: 5px; } .rn { padding-left: 20px; padding-top: 40px; } .rn span{ display: inline-block; margin: 10px; padding: 4px; color: white; border: 1px solid; }
	</style>
</head>
<body>
	<div id="wrap">
		<div class="r_Text">
			<div class="nav">
				<h2>热门目的地：</h2>
				<span>马来西亚</span>
				<span>泰国</span>
				<span>三亚</span>
				<span>新西兰</span>
				<span>云南</span>
			</div>
			<div class="show">
<!-- 				<p>
					<span>马来西亚</span>|
					<span>X</span>
				</p> -->
			</div>
		</div>
		<div class="L_Text">
			<div class="rn">
				<!-- <span class='text'>12321</span> -->
			</div>
		</div>
	</div>
	<script type="text/javascript">
		var oR_Text = document.getElementsByClassName('r_Text')[0],
			oSpan = oR_Text.querySelectorAll('.nav span'),
			oShow =  document.getElementsByClassName('show')[0],
			rn = document.getElementsByClassName('rn')[0];

		for (var i = 0; i < oSpan.length; i++) {
			oSpan[i].index = i;
			oSpan[i].flag = false;  //假设没有被点击过

			oSpan[i].onclick = function () {
				if (this.flag === false) {
					var oP = document.createElement('p'),   //show
				        clear = document.createElement('span'),   //show
				        r_Span = document.createElement('span');

				    oP.innerHTML = "<span>" + oSpan[this.index].innerHTML +"</span>" + "|";
				    clear.innerHTML = 'X';
				    r_Span.innerHTML =  oSpan[this.index].innerHTML;

				    oP.append(clear);
				    oShow.append(oP);
				    rn.append(r_Span);
				    this.flag = true;

				    clear.onclick = function () {
						oP.removeChild(clear);
						oShow.removeChild(oP);
						rn.removeChild(r_Span);
						for (var i = 0; i < oSpan.length; i++) {
							if (oSpan[i].innerHTML === oP.children[0].innerHTML) {
								oSpan[i].flag = false;
							}
						}
					}
				} else {
					alert(oSpan[this.index].innerHTML + '已经存在，无需重新添加')
				}
			}
		}
	</script>
</body>
</html>